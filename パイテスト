# ğŸ”’ Pythonã‚«ãƒ—ã‚»ãƒ«åŒ–å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼ˆã‚»ãƒƒã‚¿ãƒ¼ãƒ»ã‚²ãƒƒã‚¿ãƒ¼ + pytestï¼‰

## ğŸ“š åŸºæœ¬æ¦‚å¿µ

Pythonã§ã¯`@property`ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã‚»ãƒƒã‚¿ãƒ¼ãƒ»ã‚²ãƒƒã‚¿ãƒ¼ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

---

## ğŸ’ª å®Ÿè£…ä¾‹ï¼ˆã‚³ãƒ”ãƒšOKï¼‰

### 1. åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
# person.py
class Person:
    def __init__(self, name, age):
        self._name = name  # ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢1ã¤ = ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆï¼ˆæ…£ç¿’ï¼‰
        self._age = age
    
    # ã‚²ãƒƒã‚¿ãƒ¼
    @property
    def name(self):
        """åå‰ã‚’å–å¾—"""
        return self._name
    
    # ã‚»ãƒƒã‚¿ãƒ¼
    @name.setter
    def name(self, value):
        """åå‰ã‚’è¨­å®šï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰"""
        if not isinstance(value, str):
            raise TypeError("åå‰ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if len(value) == 0:
            raise ValueError("åå‰ã¯ç©ºã«ã§ãã¾ã›ã‚“")
        self._name = value
    
    # ã‚²ãƒƒã‚¿ãƒ¼
    @property
    def age(self):
        """å¹´é½¢ã‚’å–å¾—"""
        return self._age
    
    # ã‚»ãƒƒã‚¿ãƒ¼
    @age.setter
    def age(self, value):
        """å¹´é½¢ã‚’è¨­å®šï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰"""
        if not isinstance(value, int):
            raise TypeError("å¹´é½¢ã¯æ•´æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if value < 0 or value > 150:
            raise ValueError("å¹´é½¢ã¯0ã€œ150ã®ç¯„å›²ã§æŒ‡å®šã—ã¦ãã ã•ã„")
        self._age = value
```

**ä½¿ã„æ–¹ï¼š**
```python
person = Person("å¤ªéƒ", 25)
print(person.name)  # ã‚²ãƒƒã‚¿ãƒ¼ â†’ "å¤ªéƒ"
person.age = 30     # ã‚»ãƒƒã‚¿ãƒ¼
```

---

### 2. èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

```python
class BankAccount:
    def __init__(self, owner, balance):
        self._owner = owner
        self._balance = balance
        self._transactions = []  # å–å¼•å±¥æ­´
    
    @property
    def owner(self):
        """å£åº§åç¾©ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"""
        return self._owner
    
    @property
    def balance(self):
        """æ®‹é«˜ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"""
        return self._balance
    
    @property
    def transactions(self):
        """å–å¼•å±¥æ­´ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ã®ã‚³ãƒ”ãƒ¼ã‚’è¿”ã™ï¼‰"""
        return self._transactions.copy()
    
    def deposit(self, amount):
        """å…¥é‡‘"""
        if amount <= 0:
            raise ValueError("å…¥é‡‘é¡ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._balance += amount
        self._transactions.append(f"å…¥é‡‘: {amount}å††")
    
    def withdraw(self, amount):
        """å‡ºé‡‘"""
        if amount <= 0:
            raise ValueError("å‡ºé‡‘é¡ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if amount > self._balance:
            raise ValueError("æ®‹é«˜ä¸è¶³ã§ã™")
        self._balance -= amount
        self._transactions.append(f"å‡ºé‡‘: {amount}å††")
```

---

### 3. è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

```python
class Rectangle:
    def __init__(self, width, height):
        self._width = width
        self._height = height
    
    @property
    def width(self):
        return self._width
    
    @width.setter
    def width(self, value):
        if value <= 0:
            raise ValueError("å¹…ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._width = value
    
    @property
    def height(self):
        return self._height
    
    @height.setter
    def height(self, value):
        if value <= 0:
            raise ValueError("é«˜ã•ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._height = value
    
    @property
    def area(self):
        """é¢ç©ï¼ˆè¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰"""
        return self._width * self._height
    
    @property
    def perimeter(self):
        """å‘¨å›²ã®é•·ã•ï¼ˆè¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰"""
        return 2 * (self._width + self._height)
```

---

### 4. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãå®Ÿè·µã‚¯ãƒ©ã‚¹

```python
# user.py
import re
from datetime import datetime

class User:
    def __init__(self, username, email, password):
        self._username = username
        self._email = email
        self._password = password
        self._created_at = datetime.now()
        self._is_active = True
    
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼å
    @property
    def username(self):
        return self._username
    
    @username.setter
    def username(self, value):
        if not isinstance(value, str):
            raise TypeError("ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if len(value) < 3 or len(value) > 20:
            raise ValueError("ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯3ã€œ20æ–‡å­—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if not re.match(r'^[a-zA-Z0-9_]+$', value):
            raise ValueError("ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ä½¿ç”¨å¯èƒ½ã§ã™")
        self._username = value
    
    # ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
    @property
    def email(self):
        return self._email
    
    @email.setter
    def email(self, value):
        if not isinstance(value, str):
            raise TypeError("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        if not re.match(pattern, value):
            raise ValueError("ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ã§ã™")
        self._email = value
    
    # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
    @property
    def password(self):
        """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å–å¾—ä¸å¯"""
        raise AttributeError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å–å¾—ã§ãã¾ã›ã‚“")
    
    @password.setter
    def password(self, value):
        if not isinstance(value, str):
            raise TypeError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if len(value) < 8:
            raise ValueError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if not any(c.isupper() for c in value):
            raise ValueError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã¯å¤§æ–‡å­—ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if not any(c.isdigit() for c in value):
            raise ValueError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã¯æ•°å­—ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._password = self._hash_password(value)
    
    # èª­ã¿å–ã‚Šå°‚ç”¨
    @property
    def created_at(self):
        return self._created_at
    
    @property
    def is_active(self):
        return self._is_active
    
    def _hash_password(self, password):
        """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆç°¡æ˜“ç‰ˆï¼‰"""
        import hashlib
        return hashlib.sha256(password.encode()).hexdigest()
    
    def activate(self):
        """ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹åŒ–"""
        self._is_active = True
    
    def deactivate(self):
        """ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–"""
        self._is_active = False
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆå®Œå…¨ç‰ˆï¼‰

```python
# test_person.py
import pytest
from person import Person

class TestPerson:
    """Personã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    # ====================
    # æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_åˆæœŸåŒ–_æ­£å¸¸():
        person = Person("å¤ªéƒ", 25)
        assert person.name == "å¤ªéƒ"
        assert person.age == 25
    
    def test_name_ã‚²ãƒƒã‚¿ãƒ¼():
        person = Person("èŠ±å­", 30)
        assert person.name == "èŠ±å­"
    
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_æ­£å¸¸():
        person = Person("å¤ªéƒ", 25)
        person.name = "æ¬¡éƒ"
        assert person.name == "æ¬¡éƒ"
    
    def test_age_ã‚²ãƒƒã‚¿ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        assert person.age == 25
    
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_æ­£å¸¸():
        person = Person("å¤ªéƒ", 25)
        person.age = 30
        assert person.age == 30
    
    # ====================
    # ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ - name
    # ====================
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_å‹ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(TypeError, match="æ–‡å­—åˆ—"):
            person.name = 123
    
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_ç©ºæ–‡å­—ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError, match="ç©º"):
            person.name = ""
    
    @pytest.mark.parametrize("invalid_name", [
        123,
        None,
        [],
        {},
    ])
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_ç„¡åŠ¹ãªå‹(invalid_name):
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(TypeError):
            person.name = invalid_name
    
    # ====================
    # ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ - age
    # ====================
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_å‹ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(TypeError, match="æ•´æ•°"):
            person.age = "30"
    
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_è² æ•°ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError, match="0ã€œ150"):
            person.age = -1
    
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_ä¸Šé™è¶…éã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError, match="0ã€œ150"):
            person.age = 151
    
    @pytest.mark.parametrize("invalid_age", [
        -1,
        -100,
        151,
        200,
    ])
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_ç¯„å›²å¤–(invalid_age):
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError):
            person.age = invalid_age
```

---

```python
# test_bank_account.py
import pytest
from bank_account import BankAccount

class TestBankAccount:
    """BankAccountã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    @pytest.fixture
    def account(self):
        """ãƒ†ã‚¹ãƒˆç”¨ã®å£åº§"""
        return BankAccount("å¤ªéƒ", 10000)
    
    # ====================
    # èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_owner_èª­ã¿å–ã‚Šå°‚ç”¨(account):
        assert account.owner == "å¤ªéƒ"
        # ã‚»ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§ä»£å…¥ã§ããªã„
        with pytest.raises(AttributeError):
            account.owner = "èŠ±å­"
    
    def test_balance_èª­ã¿å–ã‚Šå°‚ç”¨(account):
        assert account.balance == 10000
        # ã‚»ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§ä»£å…¥ã§ããªã„
        with pytest.raises(AttributeError):
            account.balance = 5000
    
    def test_transactions_ã‚³ãƒ”ãƒ¼ãŒè¿”ã•ã‚Œã‚‹(account):
        """å–å¼•å±¥æ­´ã®ã‚³ãƒ”ãƒ¼ãŒè¿”ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª"""
        transactions = account.transactions
        transactions.append("ä¸æ­£ãªæ“ä½œ")
        # å…ƒã®ãƒ‡ãƒ¼ã‚¿ã¯å¤‰æ›´ã•ã‚Œã¦ã„ãªã„
        assert "ä¸æ­£ãªæ“ä½œ" not in account.transactions
    
    # ====================
    # ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_deposit_æ­£å¸¸(account):
        account.deposit(5000)
        assert account.balance == 15000
        assert "å…¥é‡‘: 5000å††" in account.transactions
    
    def test_deposit_è² æ•°ã‚¨ãƒ©ãƒ¼(account):
        with pytest.raises(ValueError, match="æ­£ã®æ•°"):
            account.deposit(-1000)
    
    def test_withdraw_æ­£å¸¸(account):
        account.withdraw(3000)
        assert account.balance == 7000
        assert "å‡ºé‡‘: 3000å††" in account.transactions
    
    def test_withdraw_æ®‹é«˜ä¸è¶³ã‚¨ãƒ©ãƒ¼(account):
        with pytest.raises(ValueError, match="æ®‹é«˜ä¸è¶³"):
            account.withdraw(20000)
```

---

```python
# test_rectangle.py
import pytest
from rectangle import Rectangle

class TestRectangle:
    """Rectangleã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    @pytest.fixture
    def rect(self):
        return Rectangle(5, 10)
    
    # ====================
    # æ­£å¸¸ç³»
    # ====================
    def test_åˆæœŸåŒ–(rect):
        assert rect.width == 5
        assert rect.height == 10
    
    def test_area_è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£(rect):
        assert rect.area == 50
    
    def test_perimeter_è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£(rect):
        assert rect.perimeter == 30
    
    def test_width_å¤‰æ›´å¾Œã®area(rect):
        rect.width = 10
        assert rect.area == 100
    
    def test_height_å¤‰æ›´å¾Œã®area(rect):
        rect.height = 20
        assert rect.area == 100
    
    # ====================
    # ç•°å¸¸ç³»
    # ====================
    def test_width_è² æ•°ã‚¨ãƒ©ãƒ¼(rect):
        with pytest.raises(ValueError, match="æ­£ã®æ•°"):
            rect.width = -5
    
    def test_height_ã‚¼ãƒ­ã‚¨ãƒ©ãƒ¼(rect):
        with pytest.raises(ValueError, match="æ­£ã®æ•°"):
            rect.height = 0
    
    @pytest.mark.parametrize("width, height", [
        (10, 5),
        (20, 10),
        (100, 50),
    ])
    def test_è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³(width, height):
        rect = Rectangle(width, height)
        assert rect.area == width * height
        assert rect.perimeter == 2 * (width + height)
```

---

```python
# test_user.py
import pytest
from user import User

class TestUser:
    """Userã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    @pytest.fixture
    def user(self):
        return User("test_user", "test@example.com", "Password123")
    
    # ====================
    # username ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_username_æ­£å¸¸(user):
        assert user.username == "test_user"
        user.username = "new_user"
        assert user.username == "new_user"
    
    def test_username_çŸ­ã™ãã‚‹ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="3ã€œ20æ–‡å­—"):
            user.username = "ab"
    
    def test_username_é•·ã™ãã‚‹ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="3ã€œ20æ–‡å­—"):
            user.username = "a" * 21
    
    def test_username_ç„¡åŠ¹ãªæ–‡å­—ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢"):
            user.username = "test-user"
    
    @pytest.mark.parametrize("invalid_username", [
        "ab",           # çŸ­ã™ãã‚‹
        "a" * 21,       # é•·ã™ãã‚‹
        "test-user",    # ãƒã‚¤ãƒ•ãƒ³ä¸å¯
        "test user",    # ã‚¹ãƒšãƒ¼ã‚¹ä¸å¯
        "ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼",  # æ—¥æœ¬èªä¸å¯
    ])
    def test_username_ç„¡åŠ¹ãªãƒ‘ã‚¿ãƒ¼ãƒ³(user, invalid_username):
        with pytest.raises(ValueError):
            user.username = invalid_username
    
    # ====================
    # email ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_email_æ­£å¸¸(user):
        assert user.email == "test@example.com"
        user.email = "new@example.com"
        assert user.email == "new@example.com"
    
    @pytest.mark.parametrize("invalid_email", [
        "invalid",
        "@example.com",
        "test@",
        "test@example",
        "test example@test.com",
    ])
    def test_email_ç„¡åŠ¹ãªå½¢å¼(user, invalid_email):
        with pytest.raises(ValueError, match="ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"):
            user.email = invalid_email
    
    # ====================
    # password ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_password_å–å¾—ä¸å¯(user):
        """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å–å¾—ã§ããªã„"""
        with pytest.raises(AttributeError, match="å–å¾—ã§ãã¾ã›ã‚“"):
            _ = user.password
    
    def test_password_çŸ­ã™ãã‚‹ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="8æ–‡å­—ä»¥ä¸Š"):
            user.password = "Pass1"
    
    def test_password_å¤§æ–‡å­—ãªã—ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="å¤§æ–‡å­—"):
            user.password = "password123"
    
    def test_password_æ•°å­—ãªã—ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="æ•°å­—"):
            user.password = "Password"
    
    @pytest.mark.parametrize("invalid_password", [
        "Pass1",        # çŸ­ã™ãã‚‹
        "password123",  # å¤§æ–‡å­—ãªã—
        "Password",     # æ•°å­—ãªã—
        "pass",         # å…¨ã¦ä¸è¶³
    ])
    def test_password_ç„¡åŠ¹ãªãƒ‘ã‚¿ãƒ¼ãƒ³(user, invalid_password):
        with pytest.raises(ValueError):
            user.password = invalid_password
    
    # ====================
    # èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    # ====================
    def test_created_at_èª­ã¿å–ã‚Šå°‚ç”¨(user):
        created = user.created_at
        assert created is not None
        # ã‚»ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§ä»£å…¥ã§ããªã„
        with pytest.raises(AttributeError):
            user.created_at = None
    
    def test_is_active_åˆæœŸå€¤(user):
        assert user.is_active is True
    
    def test_activate_deactivate(user):
        user.deactivate()
        assert user.is_active is False
        user.activate()
        assert user.is_active is True
```

---

## ğŸ”¥ å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
pytest --cov=. --cov-report=html -v

# ç‰¹å®šã®ã‚¯ãƒ©ã‚¹ã®ã¿
pytest test_user.py::TestUser -v

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿
pytest test_user.py::TestUser::test_username_æ­£å¸¸ -v
```

---

## ğŸ’¡ ã¾ã¨ã‚

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ç¨®é¡

| ç¨®é¡ | å®Ÿè£… | ç”¨é€” |
|------|------|------|
| **èª­ã¿æ›¸ãå¯èƒ½** | `@property` + `@xxx.setter` | é€šå¸¸ã®å±æ€§ |
| **èª­ã¿å–ã‚Šå°‚ç”¨** | `@property` ã®ã¿ | å¤‰æ›´ä¸å¯ã®å±æ€§ |
| **æ›¸ãè¾¼ã¿å°‚ç”¨** | ã‚»ãƒƒã‚¿ãƒ¼ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã© |
| **è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£** | `@property` ã§è¨ˆç®— | é¢ç©ãªã© |

### ãƒ†ã‚¹ãƒˆã™ã¹ãé …ç›®

âœ… æ­£å¸¸ç³»ï¼šå€¤ã®è¨­å®šã¨å–å¾—  
âœ… ç•°å¸¸ç³»ï¼šå‹ã‚¨ãƒ©ãƒ¼  
âœ… ç•°å¸¸ç³»ï¼šå€¤ã®ç¯„å›²ã‚¨ãƒ©ãƒ¼  
âœ… ç•°å¸¸ç³»ï¼šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼  
âœ… èª­ã¿å–ã‚Šå°‚ç”¨ã®ç¢ºèª  
âœ… ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ãƒ†ã‚¹ãƒˆ

---

# ğŸ”’ Pythonã‚«ãƒ—ã‚»ãƒ«åŒ–å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼ˆã‚»ãƒƒã‚¿ãƒ¼ãƒ»ã‚²ãƒƒã‚¿ãƒ¼ + pytestï¼‰

## ğŸ“š åŸºæœ¬æ¦‚å¿µ

Pythonã§ã¯`@property`ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã‚»ãƒƒã‚¿ãƒ¼ãƒ»ã‚²ãƒƒã‚¿ãƒ¼ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

---

## ğŸ’ª å®Ÿè£…ä¾‹ï¼ˆã‚³ãƒ”ãƒšOKï¼‰

### 1. åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
# person.py
class Person:
    def __init__(self, name, age):
        self._name = name  # ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢1ã¤ = ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆï¼ˆæ…£ç¿’ï¼‰
        self._age = age
    
    # ã‚²ãƒƒã‚¿ãƒ¼
    @property
    def name(self):
        """åå‰ã‚’å–å¾—"""
        return self._name
    
    # ã‚»ãƒƒã‚¿ãƒ¼
    @name.setter
    def name(self, value):
        """åå‰ã‚’è¨­å®šï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰"""
        if not isinstance(value, str):
            raise TypeError("åå‰ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if len(value) == 0:
            raise ValueError("åå‰ã¯ç©ºã«ã§ãã¾ã›ã‚“")
        self._name = value
    
    # ã‚²ãƒƒã‚¿ãƒ¼
    @property
    def age(self):
        """å¹´é½¢ã‚’å–å¾—"""
        return self._age
    
    # ã‚»ãƒƒã‚¿ãƒ¼
    @age.setter
    def age(self, value):
        """å¹´é½¢ã‚’è¨­å®šï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰"""
        if not isinstance(value, int):
            raise TypeError("å¹´é½¢ã¯æ•´æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if value < 0 or value > 150:
            raise ValueError("å¹´é½¢ã¯0ã€œ150ã®ç¯„å›²ã§æŒ‡å®šã—ã¦ãã ã•ã„")
        self._age = value
```

**ä½¿ã„æ–¹ï¼š**
```python
person = Person("å¤ªéƒ", 25)
print(person.name)  # ã‚²ãƒƒã‚¿ãƒ¼ â†’ "å¤ªéƒ"
person.age = 30     # ã‚»ãƒƒã‚¿ãƒ¼
```

---

### 2. èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

```python
class BankAccount:
    def __init__(self, owner, balance):
        self._owner = owner
        self._balance = balance
        self._transactions = []  # å–å¼•å±¥æ­´
    
    @property
    def owner(self):
        """å£åº§åç¾©ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"""
        return self._owner
    
    @property
    def balance(self):
        """æ®‹é«˜ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"""
        return self._balance
    
    @property
    def transactions(self):
        """å–å¼•å±¥æ­´ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ã®ã‚³ãƒ”ãƒ¼ã‚’è¿”ã™ï¼‰"""
        return self._transactions.copy()
    
    def deposit(self, amount):
        """å…¥é‡‘"""
        if amount <= 0:
            raise ValueError("å…¥é‡‘é¡ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._balance += amount
        self._transactions.append(f"å…¥é‡‘: {amount}å††")
    
    def withdraw(self, amount):
        """å‡ºé‡‘"""
        if amount <= 0:
            raise ValueError("å‡ºé‡‘é¡ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if amount > self._balance:
            raise ValueError("æ®‹é«˜ä¸è¶³ã§ã™")
        self._balance -= amount
        self._transactions.append(f"å‡ºé‡‘: {amount}å††")
```

---

### 3. è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

```python
class Rectangle:
    def __init__(self, width, height):
        self._width = width
        self._height = height
    
    @property
    def width(self):
        return self._width
    
    @width.setter
    def width(self, value):
        if value <= 0:
            raise ValueError("å¹…ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._width = value
    
    @property
    def height(self):
        return self._height
    
    @height.setter
    def height(self, value):
        if value <= 0:
            raise ValueError("é«˜ã•ã¯æ­£ã®æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._height = value
    
    @property
    def area(self):
        """é¢ç©ï¼ˆè¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰"""
        return self._width * self._height
    
    @property
    def perimeter(self):
        """å‘¨å›²ã®é•·ã•ï¼ˆè¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰"""
        return 2 * (self._width + self._height)
```

---

### 4. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãå®Ÿè·µã‚¯ãƒ©ã‚¹

```python
# user.py
import re
from datetime import datetime

class User:
    def __init__(self, username, email, password):
        self._username = username
        self._email = email
        self._password = password
        self._created_at = datetime.now()
        self._is_active = True
    
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼å
    @property
    def username(self):
        return self._username
    
    @username.setter
    def username(self, value):
        if not isinstance(value, str):
            raise TypeError("ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if len(value) < 3 or len(value) > 20:
            raise ValueError("ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯3ã€œ20æ–‡å­—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if not re.match(r'^[a-zA-Z0-9_]+$', value):
            raise ValueError("ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ä½¿ç”¨å¯èƒ½ã§ã™")
        self._username = value
    
    # ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
    @property
    def email(self):
        return self._email
    
    @email.setter
    def email(self, value):
        if not isinstance(value, str):
            raise TypeError("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
        if not re.match(pattern, value):
            raise ValueError("ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼ã§ã™")
        self._email = value
    
    # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
    @property
    def password(self):
        """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å–å¾—ä¸å¯"""
        raise AttributeError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å–å¾—ã§ãã¾ã›ã‚“")
    
    @password.setter
    def password(self, value):
        if not isinstance(value, str):
            raise TypeError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯æ–‡å­—åˆ—ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if len(value) < 8:
            raise ValueError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if not any(c.isupper() for c in value):
            raise ValueError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã¯å¤§æ–‡å­—ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        if not any(c.isdigit() for c in value):
            raise ValueError("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã¯æ•°å­—ã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        self._password = self._hash_password(value)
    
    # èª­ã¿å–ã‚Šå°‚ç”¨
    @property
    def created_at(self):
        return self._created_at
    
    @property
    def is_active(self):
        return self._is_active
    
    def _hash_password(self, password):
        """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆç°¡æ˜“ç‰ˆï¼‰"""
        import hashlib
        return hashlib.sha256(password.encode()).hexdigest()
    
    def activate(self):
        """ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæœ‰åŠ¹åŒ–"""
        self._is_active = True
    
    def deactivate(self):
        """ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç„¡åŠ¹åŒ–"""
        self._is_active = False
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆå®Œå…¨ç‰ˆï¼‰

```python
# test_person.py
import pytest
from person import Person

class TestPerson:
    """Personã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    # ====================
    # æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_åˆæœŸåŒ–_æ­£å¸¸():
        person = Person("å¤ªéƒ", 25)
        assert person.name == "å¤ªéƒ"
        assert person.age == 25
    
    def test_name_ã‚²ãƒƒã‚¿ãƒ¼():
        person = Person("èŠ±å­", 30)
        assert person.name == "èŠ±å­"
    
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_æ­£å¸¸():
        person = Person("å¤ªéƒ", 25)
        person.name = "æ¬¡éƒ"
        assert person.name == "æ¬¡éƒ"
    
    def test_age_ã‚²ãƒƒã‚¿ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        assert person.age == 25
    
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_æ­£å¸¸():
        person = Person("å¤ªéƒ", 25)
        person.age = 30
        assert person.age == 30
    
    # ====================
    # ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ - name
    # ====================
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_å‹ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(TypeError, match="æ–‡å­—åˆ—"):
            person.name = 123
    
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_ç©ºæ–‡å­—ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError, match="ç©º"):
            person.name = ""
    
    @pytest.mark.parametrize("invalid_name", [
        123,
        None,
        [],
        {},
    ])
    def test_name_ã‚»ãƒƒã‚¿ãƒ¼_ç„¡åŠ¹ãªå‹(invalid_name):
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(TypeError):
            person.name = invalid_name
    
    # ====================
    # ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ - age
    # ====================
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_å‹ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(TypeError, match="æ•´æ•°"):
            person.age = "30"
    
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_è² æ•°ã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError, match="0ã€œ150"):
            person.age = -1
    
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_ä¸Šé™è¶…éã‚¨ãƒ©ãƒ¼():
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError, match="0ã€œ150"):
            person.age = 151
    
    @pytest.mark.parametrize("invalid_age", [
        -1,
        -100,
        151,
        200,
    ])
    def test_age_ã‚»ãƒƒã‚¿ãƒ¼_ç¯„å›²å¤–(invalid_age):
        person = Person("å¤ªéƒ", 25)
        with pytest.raises(ValueError):
            person.age = invalid_age
```

---

```python
# test_bank_account.py
import pytest
from bank_account import BankAccount

class TestBankAccount:
    """BankAccountã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    @pytest.fixture
    def account(self):
        """ãƒ†ã‚¹ãƒˆç”¨ã®å£åº§"""
        return BankAccount("å¤ªéƒ", 10000)
    
    # ====================
    # èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_owner_èª­ã¿å–ã‚Šå°‚ç”¨(account):
        assert account.owner == "å¤ªéƒ"
        # ã‚»ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§ä»£å…¥ã§ããªã„
        with pytest.raises(AttributeError):
            account.owner = "èŠ±å­"
    
    def test_balance_èª­ã¿å–ã‚Šå°‚ç”¨(account):
        assert account.balance == 10000
        # ã‚»ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§ä»£å…¥ã§ããªã„
        with pytest.raises(AttributeError):
            account.balance = 5000
    
    def test_transactions_ã‚³ãƒ”ãƒ¼ãŒè¿”ã•ã‚Œã‚‹(account):
        """å–å¼•å±¥æ­´ã®ã‚³ãƒ”ãƒ¼ãŒè¿”ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª"""
        transactions = account.transactions
        transactions.append("ä¸æ­£ãªæ“ä½œ")
        # å…ƒã®ãƒ‡ãƒ¼ã‚¿ã¯å¤‰æ›´ã•ã‚Œã¦ã„ãªã„
        assert "ä¸æ­£ãªæ“ä½œ" not in account.transactions
    
    # ====================
    # ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_deposit_æ­£å¸¸(account):
        account.deposit(5000)
        assert account.balance == 15000
        assert "å…¥é‡‘: 5000å††" in account.transactions
    
    def test_deposit_è² æ•°ã‚¨ãƒ©ãƒ¼(account):
        with pytest.raises(ValueError, match="æ­£ã®æ•°"):
            account.deposit(-1000)
    
    def test_withdraw_æ­£å¸¸(account):
        account.withdraw(3000)
        assert account.balance == 7000
        assert "å‡ºé‡‘: 3000å††" in account.transactions
    
    def test_withdraw_æ®‹é«˜ä¸è¶³ã‚¨ãƒ©ãƒ¼(account):
        with pytest.raises(ValueError, match="æ®‹é«˜ä¸è¶³"):
            account.withdraw(20000)
```

---

```python
# test_rectangle.py
import pytest
from rectangle import Rectangle

class TestRectangle:
    """Rectangleã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    @pytest.fixture
    def rect(self):
        return Rectangle(5, 10)
    
    # ====================
    # æ­£å¸¸ç³»
    # ====================
    def test_åˆæœŸåŒ–(rect):
        assert rect.width == 5
        assert rect.height == 10
    
    def test_area_è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£(rect):
        assert rect.area == 50
    
    def test_perimeter_è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£(rect):
        assert rect.perimeter == 30
    
    def test_width_å¤‰æ›´å¾Œã®area(rect):
        rect.width = 10
        assert rect.area == 100
    
    def test_height_å¤‰æ›´å¾Œã®area(rect):
        rect.height = 20
        assert rect.area == 100
    
    # ====================
    # ç•°å¸¸ç³»
    # ====================
    def test_width_è² æ•°ã‚¨ãƒ©ãƒ¼(rect):
        with pytest.raises(ValueError, match="æ­£ã®æ•°"):
            rect.width = -5
    
    def test_height_ã‚¼ãƒ­ã‚¨ãƒ©ãƒ¼(rect):
        with pytest.raises(ValueError, match="æ­£ã®æ•°"):
            rect.height = 0
    
    @pytest.mark.parametrize("width, height", [
        (10, 5),
        (20, 10),
        (100, 50),
    ])
    def test_è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³(width, height):
        rect = Rectangle(width, height)
        assert rect.area == width * height
        assert rect.perimeter == 2 * (width + height)
```

---

```python
# test_user.py
import pytest
from user import User

class TestUser:
    """Userã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆ"""
    
    @pytest.fixture
    def user(self):
        return User("test_user", "test@example.com", "Password123")
    
    # ====================
    # username ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_username_æ­£å¸¸(user):
        assert user.username == "test_user"
        user.username = "new_user"
        assert user.username == "new_user"
    
    def test_username_çŸ­ã™ãã‚‹ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="3ã€œ20æ–‡å­—"):
            user.username = "ab"
    
    def test_username_é•·ã™ãã‚‹ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="3ã€œ20æ–‡å­—"):
            user.username = "a" * 21
    
    def test_username_ç„¡åŠ¹ãªæ–‡å­—ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢"):
            user.username = "test-user"
    
    @pytest.mark.parametrize("invalid_username", [
        "ab",           # çŸ­ã™ãã‚‹
        "a" * 21,       # é•·ã™ãã‚‹
        "test-user",    # ãƒã‚¤ãƒ•ãƒ³ä¸å¯
        "test user",    # ã‚¹ãƒšãƒ¼ã‚¹ä¸å¯
        "ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼",  # æ—¥æœ¬èªä¸å¯
    ])
    def test_username_ç„¡åŠ¹ãªãƒ‘ã‚¿ãƒ¼ãƒ³(user, invalid_username):
        with pytest.raises(ValueError):
            user.username = invalid_username
    
    # ====================
    # email ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_email_æ­£å¸¸(user):
        assert user.email == "test@example.com"
        user.email = "new@example.com"
        assert user.email == "new@example.com"
    
    @pytest.mark.parametrize("invalid_email", [
        "invalid",
        "@example.com",
        "test@",
        "test@example",
        "test example@test.com",
    ])
    def test_email_ç„¡åŠ¹ãªå½¢å¼(user, invalid_email):
        with pytest.raises(ValueError, match="ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"):
            user.email = invalid_email
    
    # ====================
    # password ã®ãƒ†ã‚¹ãƒˆ
    # ====================
    def test_password_å–å¾—ä¸å¯(user):
        """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å–å¾—ã§ããªã„"""
        with pytest.raises(AttributeError, match="å–å¾—ã§ãã¾ã›ã‚“"):
            _ = user.password
    
    def test_password_çŸ­ã™ãã‚‹ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="8æ–‡å­—ä»¥ä¸Š"):
            user.password = "Pass1"
    
    def test_password_å¤§æ–‡å­—ãªã—ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="å¤§æ–‡å­—"):
            user.password = "password123"
    
    def test_password_æ•°å­—ãªã—ã‚¨ãƒ©ãƒ¼(user):
        with pytest.raises(ValueError, match="æ•°å­—"):
            user.password = "Password"
    
    @pytest.mark.parametrize("invalid_password", [
        "Pass1",        # çŸ­ã™ãã‚‹
        "password123",  # å¤§æ–‡å­—ãªã—
        "Password",     # æ•°å­—ãªã—
        "pass",         # å…¨ã¦ä¸è¶³
    ])
    def test_password_ç„¡åŠ¹ãªãƒ‘ã‚¿ãƒ¼ãƒ³(user, invalid_password):
        with pytest.raises(ValueError):
            user.password = invalid_password
    
    # ====================
    # èª­ã¿å–ã‚Šå°‚ç”¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    # ====================
    def test_created_at_èª­ã¿å–ã‚Šå°‚ç”¨(user):
        created = user.created_at
        assert created is not None
        # ã‚»ãƒƒã‚¿ãƒ¼ãŒç„¡ã„ã®ã§ä»£å…¥ã§ããªã„
        with pytest.raises(AttributeError):
            user.created_at = None
    
    def test_is_active_åˆæœŸå€¤(user):
        assert user.is_active is True
    
    def test_activate_deactivate(user):
        user.deactivate()
        assert user.is_active is False
        user.activate()
        assert user.is_active is True
```

---

## ğŸ”¥ å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
pytest --cov=. --cov-report=html -v

# ç‰¹å®šã®ã‚¯ãƒ©ã‚¹ã®ã¿
pytest test_user.py::TestUser -v

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿
pytest test_user.py::TestUser::test_username_æ­£å¸¸ -v
```

---

## ğŸ’¡ ã¾ã¨ã‚

### ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ç¨®é¡

| ç¨®é¡ | å®Ÿè£… | ç”¨é€” |
|------|------|------|
| **èª­ã¿æ›¸ãå¯èƒ½** | `@property` + `@xxx.setter` | é€šå¸¸ã®å±æ€§ |
| **èª­ã¿å–ã‚Šå°‚ç”¨** | `@property` ã®ã¿ | å¤‰æ›´ä¸å¯ã®å±æ€§ |
| **æ›¸ãè¾¼ã¿å°‚ç”¨** | ã‚»ãƒƒã‚¿ãƒ¼ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã© |
| **è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£** | `@property` ã§è¨ˆç®— | é¢ç©ãªã© |

### ãƒ†ã‚¹ãƒˆã™ã¹ãé …ç›®

âœ… æ­£å¸¸ç³»ï¼šå€¤ã®è¨­å®šã¨å–å¾—  
âœ… ç•°å¸¸ç³»ï¼šå‹ã‚¨ãƒ©ãƒ¼  
âœ… ç•°å¸¸ç³»ï¼šå€¤ã®ç¯„å›²ã‚¨ãƒ©ãƒ¼  
âœ… ç•°å¸¸ç³»ï¼šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼  
âœ… èª­ã¿å–ã‚Šå°‚ç”¨ã®ç¢ºèª  
âœ… ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ãƒ†ã‚¹ãƒˆ

---

**ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒšã—ã¦ä½¿ã£ã¦ãã ã•ã„ï¼ğŸš€**

**ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒšã—ã¦ä½¿ã£ã¦ãã ã•ã„ï¼ğŸš€**
